<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centrum Rub치캜ek - Rezerva캜n칤 Syst칠m</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div>
                <h1>游꿢 Centrum Rub치캜ek</h1>
                <p>Rezerva캜n칤 Syst칠m pro Lekce</p>
            </div>
            <div class="user-info" style="text-align: right;">
                <span id="user-name" style="margin-right: 10px; font-weight: bold;"></span>
                <span id="user-role" style="margin-right: 10px; padding: 4px 8px; background: #e8f5e9; border-radius: 4px; font-size: 12px;"></span>
                <button class="btn btn-secondary" onclick="handleLogout()" style="font-size: 14px;">Odhl치sit se</button>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab active" data-tab="lessons">游늰 Lekce</button>
            <button class="tab" data-tab="register">游논 Registrace</button>
            <button class="tab" data-tab="substitution">游댃 N치hradn칤 Lekce</button>
            <button class="tab" data-tab="excel">游늵 Import Excel</button>
        </nav>

        <!-- Lessons Tab -->
        <div class="tab-content active" id="lessons">
            <div class="section-header">
                <h2>P콏ehled Lekc칤</h2>
                <button class="btn btn-primary" onclick="showAddLessonForm()">+ P콏idat Lekci</button>
            </div>

            <div id="add-lesson-form" class="form-card" style="display: none;">
                <h3>Nov치 Lekce</h3>
                <form onsubmit="addLesson(event)">
                    <div class="form-group">
                        <label>N치zev lekce:</label>
                        <input type="text" name="title" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Den:</label>
                            <select name="dayOfWeek" required>
                                <option value="Monday">Pond캩l칤</option>
                                <option value="Tuesday">칔ter칳</option>
                                <option value="Wednesday">St콏eda</option>
                                <option value="Thursday">캛tvrtek</option>
                                <option value="Friday">P치tek</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>캛as:</label>
                            <input type="time" name="time" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Lokace:</label>
                        <input type="text" name="location" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>V캩kov치 skupina:</label>
                            <select name="ageGroup" required>
                                <option value="3-12 months">3-12 m캩s칤c콢</option>
                                <option value="1-2 years">1-2 roky</option>
                                <option value="2-3 years">2-3 roky</option>
                                <option value="3-4 years">3-4 roky</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Kapacita:</label>
                            <input type="number" name="capacity" min="1" required>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Ulo쬴t</button>
                        <button type="button" class="btn btn-secondary" onclick="hideAddLessonForm()">Zru코it</button>
                    </div>
                </form>
            </div>

            <div id="lessons-list" class="lessons-grid"></div>
        </div>

        <!-- Register Tab -->
        <div class="tab-content" id="register">
            <h2>Registrace 칔캜astn칤ka</h2>
            <form onsubmit="registerParticipant(event)" class="form-card">
                <div class="form-group">
                    <label>Vyberte lekci:</label>
                    <select name="lessonId" id="lesson-select" required></select>
                </div>
                <h3>칔daje 칰캜astn칤ka</h3>
                <div class="form-group">
                    <label>Jm칠no:</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" name="email" required>
                </div>
                <div class="form-group">
                    <label>Telefon:</label>
                    <input type="tel" name="phone" required>
                </div>
                <div class="form-group">
                    <label>V캩kov치 skupina:</label>
                    <select name="ageGroup" required>
                        <option value="3-12 months">3-12 m캩s칤c콢</option>
                        <option value="1-2 years">1-2 roky</option>
                        <option value="2-3 years">2-3 roky</option>
                        <option value="3-4 years">3-4 roky</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Registrovat</button>
            </form>
        </div>

        <!-- Substitution Tab -->
        <div class="tab-content" id="substitution">
            <h2>N치hradn칤 Lekce</h2>
            <div class="form-card">
                <div class="form-group">
                    <label>V캩kov치 skupina:</label>
                    <select id="sub-age-group" onchange="loadSubstitutionLessons()">
                        <option value="">-- Vyberte --</option>
                        <option value="3-12 months">3-12 m캩s칤c콢</option>
                        <option value="1-2 years">1-2 roky</option>
                        <option value="2-3 years">2-3 roky</option>
                        <option value="3-4 years">3-4 roky</option>
                    </select>
                </div>
                <div id="substitution-lessons"></div>
            </div>
        </div>

        <!-- Excel Import Tab -->
        <div class="tab-content" id="excel">
            <h2>Import 칔캜astn칤k콢 z Excel</h2>
            <div class="form-card">
                <div class="info-box">
                    <h3>游늶 Form치t Excel souboru:</h3>
                    <p>Soubor mus칤 obsahovat sloupce:</p>
                    <ul>
                        <li><strong>name</strong> - Jm칠no 칰캜astn칤ka</li>
                        <li><strong>email</strong> - Email</li>
                        <li><strong>phone</strong> - Telefon</li>
                        <li><strong>ageGroup</strong> - V캩kov치 skupina (nap콏. "3-12 months")</li>
                    </ul>
                </div>
                <form onsubmit="uploadExcel(event)">
                    <div class="form-group">
                        <label>Vyberte lekci pro registraci:</label>
                        <select name="lessonId" id="excel-lesson-select" required></select>
                    </div>
                    <div class="form-group">
                        <label>Excel soubor:</label>
                        <input type="file" name="file" accept=".xlsx,.xls" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Nahr치t a Registrovat</button>
                </form>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script src="app.js"></script>
</body>
</html>
